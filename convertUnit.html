<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>React Converter Example</title>
  </head>
  <body>
    <div id="root"></div>
  </body>
  <script
    src="https://unpkg.com/react@18/umd/react.development.js"
    crossorigin
  ></script>
  <script
    src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"
    crossorigin
  ></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script type="text/babel">
    const { useState } = React;
    const { createRoot } = ReactDOM;

    const MinutesToHours = () => {
      const [amount, setAmount] = useState(0);
      const [isMinutes, setIsMinutes] = useState(true);

      const handleAmountChange = (event) => {
        const value = event.target.value;
        setAmount(value);
      };

      const resetAmount = () => setAmount(0);
      const toggleConversion = () => {
        resetAmount();
        setIsMinutes((prev) => !prev);
      };

      const convertAmount = (amount, isMinutes) => {
        return isMinutes ? amount : amount * 60;
      };

      return (
        <div>
          <div>
            <label htmlFor="minutes">Minutes</label>
            <input
              id="minutes"
              placeholder="Minutes"
              type="number"
              value={isMinutes ? amount : convertAmount(amount, isMinutes)}
              onChange={handleAmountChange}
              disabled={!isMinutes}
            />
          </div>

          <div>
            <label htmlFor="hours">Hours</label>
            <input
              id="hours"
              placeholder="Hours"
              type="number"
              value={isMinutes ? (amount / 60).toFixed(2) : amount}
              onChange={handleAmountChange}
              disabled={isMinutes}
            />
          </div>
          <button onClick={resetAmount}>Reset</button>
          <button onClick={toggleConversion}>Flip</button>
        </div>
      );
    };

    const KmToMiles = () => {
      const [distance, setDistance] = useState(0);
      const [isKm, setIsKm] = useState(true);

      const handleDistanceChange = (event) => {
        const value = event.target.value;
        setDistance(value);
      };

      const resetDistance = () => setDistance(0);
      const toggleConversion = () => {
        resetDistance();
        setIsKm((prev) => !prev);
      };

      const convertDistance = (distance, isKm) => {
        return isKm ? distance : (distance / 1.609).toFixed(2);
      };

      return (
        <div>
          <div>
            <label htmlFor="km">Kilometers</label>
            <input
              id="km"
              placeholder="Kilometers"
              type="number"
              value={isKm ? distance : convertDistance(distance, isKm)}
              onChange={handleDistanceChange}
              disabled={!isKm}
            />
          </div>

          <div>
            <label htmlFor="miles">Miles</label>
            <input
              id="miles"
              placeholder="Miles"
              type="number"
              value={isKm ? (distance * 1.609).toFixed(2) : distance}
              onChange={handleDistanceChange}
              disabled={isKm}
            />
          </div>
          <button onClick={resetDistance}>Reset</button>
          <button onClick={toggleConversion}>Flip</button>
        </div>
      );
    };

    const App = () => {
      const [selectedConverter, setSelectedConverter] =
        useState('minutesToHours');

      const handleConverterChange = (event) => {
        setSelectedConverter(event.target.value);
      };

      return (
        <div>
          <h1>Super Converter</h1>
          <select value={selectedConverter} onChange={handleConverterChange}>
            <option value="minutesToHours">Minutes & Hours</option>
            <option value="kmToMiles">Km & Miles</option>
          </select>
          <hr />
          {selectedConverter === 'minutesToHours' && <MinutesToHours />}
          {selectedConverter === 'kmToMiles' && <KmToMiles />}
        </div>
      );
    };

    const rootElement = document.getElementById('root');
    const root = createRoot(rootElement);
    root.render(<App />);
  </script>
</html>
